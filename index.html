<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="theme-color" content="#ff6ad5" />
<title>Naïveté © : Base Instincts</title>
<style>
:root{
  --bg-overlay: rgba(0,0,0,0.35);
  --accent: #ff6ad5;
  --card-w: 84vw;
  --card-h: 56vw;
  --gutter: 8vw;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
html,body{height:100%;margin:0;background:#000;color:#fff;-webkit-font-smoothing:antialiased}

/* background image */
.bg{position:fixed;inset:0;background:center/cover no-repeat url('image.png');filter:contrast(1.03) saturate(1.15);z-index:0;}
.bg::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.2),rgba(0,0,0,0.6));}

/* layout */
.app{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column}
.header{display:flex;align-items:center;justify-content:space-between;padding:14px 6vw}
.title{font-weight:700;font-size:16px;letter-spacing:0.6px}
.subtitle{font-size:11px;opacity:0.9}
.connect-btn{background:linear-gradient(90deg,var(--accent),#ffd36a);border:none;padding:8px 12px;border-radius:999px;font-weight:600;color:#000}

/* scroll stage */
.stage{height:220vh;position:relative}
.sticky{position:sticky;top:12vh;height:76vh;display:flex;align-items:center;overflow:hidden}
.track{display:flex;gap:calc(var(--gutter));align-items:center;padding-left:6vw;padding-right:6vw;transition:transform 240ms cubic-bezier(.22,.9,.36,1)}

.card{width:var(--card-w);height:var(--card-h);flex:0 0 auto;background:linear-gradient(180deg,rgba(255,255,255,0.04),rgba(255,255,255,0.02));backdrop-filter:blur(6px);border-radius:18px;box-shadow:0 6px 20px rgba(0,0,0,0.45);position:relative;overflow:hidden;display:flex;flex-direction:column}
.card img{width:100%;height:auto;display:block}
.card .meta{padding:10px 12px;font-size:13px}
.card .name{font-weight:700}
.card .desc{font-size:11px;opacity:0.85;margin-top:4px}
.footer{padding:18px 6vw 48px;display:flex;flex-direction:column;gap:10px}
.controls{display:flex;gap:8px}
.chip{background:rgba(255,255,255,0.06);padding:8px 10px;border-radius:999px;font-size:13px}
.card:active{transform:scale(.995)}
@media (min-width:700px){:root{--card-w:56vw;--card-h:36vw}}
</style>
</head>
<body>
<div class="bg" aria-hidden="true"></div>
<div class="app">
  <header class="header">
    <div>
      <div class="title">Naïveté: Base Instincts</div>
      <div class="subtitle">Broken is beautiful — build your face.</div>
    </div>
    <div><button id="connect" class="connect-btn">Connect Wallet</button></div>
  </header>

  <main>
    <section class="stage">
      <div class="sticky" id="sticky">
        <div class="track" id="track"></div>
      </div>
    </section>

    <section class="footer">
      <div class="controls">
        <div class="chip">72 Card Deck</div>
        <div class="chip">Booster Packs</div>
        <div class="chip">Collect Avatars & Pets</div>
      </div>
    </section>
  </main>
</div>

<!-- Web3 + Ethers imports -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script src="https://unpkg.com/@wagmi/core@2.8.4/dist/index.umd.js"></script>
<script src="https://unpkg.com/@web3modal/wagmi@3.6.4/dist/index.umd.js"></script>
<script src="https://unpkg.com/viem@2.19.5/dist/viem.umd.js"></script>

<script>
  // Demo card generator
  const TRACK = document.getElementById("track");
  for (let i = 1; i <= 12; i++) {
    const card = document.createElement("article");
    card.className = "card";
    card.innerHTML = `
      <img src="placeholder_card_${(i % 6) + 1}.png" alt="Card ${i}" />
      <div class="meta">
        <div class="name">Naïve #${i}</div>
        <div class="desc">Raw Expression · Tier ${Math.ceil(Math.random() * 5)}</div>
      </div>`;
    TRACK.appendChild(card);
  }

  // Scroll-driven horizontal translate
  const stage = document.querySelector(".stage");
  const sticky = document.getElementById("sticky");
  function updateTrack() {
    const rect = stage.getBoundingClientRect();
    const scrollTop = Math.min(Math.max(-rect.top, 0), rect.height - window.innerHeight);
    const progress = scrollTop / (rect.height - window.innerHeight);
    const totalWidth = TRACK.scrollWidth - sticky.clientWidth;
    const x = Math.round(totalWidth * progress);
    TRACK.style.transform = `translateX(${-x}px)`;
  }
  window.addEventListener("scroll", updateTrack, { passive: true });
  window.addEventListener("resize", updateTrack);
  updateTrack();

  // Web3Modal v3 Setup
  (async () => {
    const { mainnet, base } = window.viem.chains;
    const projectId = "YOUR_WALLETCONNECT_PROJECT_ID";
    if (!window.wagmi || !window.Web3ModalWagmi) return console.error("Web3Modal or wagmi not loaded.");

    const { createConfig } = window.wagmi;
    const { reconnect, watchAccount } = window.wagmi.actions;
    const { defaultWagmiConfig, EthereumClient, Web3Modal } = window.Web3ModalWagmi;
    const chains = [mainnet, base];

    const wagmiConfig = createConfig(defaultWagmiConfig({
      chains,
      projectId,
      metadata: {
        name: "Naïveté: Base Instincts",
        description: "Broken is beautiful — build your face.",
        url: window.location.href,
        icons: ["image.png"]
      }
    }));

    const ethereumClient = new EthereumClient(wagmiConfig, chains);
    const modal = new Web3Modal({
      projectId,
      themeMode: "dark",
      themeVariables: { "--w3m-accent-color": "#ff6ad5" },
      ethereumClient
    });

    const connectBtn = document.getElementById("connect");
    reconnect(wagmiConfig);

    connectBtn.addEventListener("click", async () => {
      try { await modal.openModal(); } 
      catch (e) { console.error("Wallet connect failed", e); }
    });

    watchAccount(wagmiConfig, {
      onChange(account) {
        connectBtn.textContent = account?.address
          ? account.address.slice(0,6) + "..." + account.address.slice(-4)
          : "Connect Wallet";
      }
    });
  })();
</script>
</body>
</html>

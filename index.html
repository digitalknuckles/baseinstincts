<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="theme-color" content="#ff6ad5" />
<title>Naïveté © : Base Instincts</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
:root{
  --bg-overlay: rgba(0,0,0,0.35);
  --accent: #ff6ad5;
  --card-w: 84vw;
  --card-h: 56vw;
  --gutter: 8vw;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}
html,body{height:100%;margin:0;background:#000;color:#fff;-webkit-font-smoothing:antialiased}

/* background */
.bg{position:fixed;inset:0;background:center/cover no-repeat url('image.png');filter:contrast(1.03) saturate(1.15);}
.bg::after{content:'';position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.2),rgba(0,0,0,0.6));}

/* layout */
.app{position:relative;z-index:1;min-height:100vh;display:flex;flex-direction:column}
.header{display:flex;align-items:center;justify-content:space-between;padding:14px 6vw}
.title{font-weight:700;font-size:16px;letter-spacing:0.6px}
.subtitle{font-size:11px;opacity:0.9}
.connect-btn{background:linear-gradient(90deg,var(--accent),#ffd36a);border:none;padding:8px 12px;border-radius:999px;font-weight:600;color:#000;cursor:pointer}
#show-rulebook{background:linear-gradient(90deg,#ffd36a,var(--accent));}

/* scrolling display gallery */
.stage{height:220vh;position:relative}
.sticky{position:sticky;top:12vh;height:76vh;display:flex;align-items:center;overflow:hidden}
.track{display:flex;gap:calc(var(--gutter));align-items:center;padding-left:6vw;padding-right:6vw;transition:transform 240ms cubic-bezier(.22,.9,.36,1)}
.card{width:var(--card-w);height:var(--card-h);flex:0 0 auto;background:rgba(255,255,255,0.05);backdrop-filter:blur(8px);border-radius:18px;box-shadow:0 6px 20px rgba(0,0,0,0.45);overflow:hidden}
.footer{padding:18px 6vw 48px;display:flex;flex-direction:column;gap:10px}
.controls{display:flex;gap:8px}
.chip{background:rgba(255,255,255,0.06);padding:8px 10px;border-radius:999px;font-size:13px}
</style>
</head>

<body>

<div class="bg"></div>

<div class="app">

  <header class="header">
    <div>
      <div class="title">Naïveté: Base Instincts</div>
      <div class="subtitle">Broken is beautiful — build your face.</div>
    </div>

    <div class="flex gap-2">
      <button id="connect" class="connect-btn">Connect Wallet</button>
      <button id="show-rulebook" class="connect-btn">Rulebook</button>
    </div>
  </header>

  <main>
    <section class="stage">
      <div class="sticky" id="sticky">
        <div class="track" id="track">
          <!-- dynamic card gallery content will generate here later -->
        </div>
      </div>
    </section>

    <section class="footer">
      <div class="controls">
        <div class="chip">72 Card Deck</div>
        <div class="chip">Booster Packs</div>
        <div class="chip">Collect Avatars & Pets</div>
      </div>
    </section>
  </main>

</div>

<!-- Import Modular Rulebook -->
<script type="module" src="rulebook.js"></script>

<!-- Wallet / UI -->
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<script src="https://unpkg.com/web3modal@1.9.12/dist/index.js"></script>
<script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>

<script type="module">
// Show Rulebook
document.getElementById("show-rulebook").addEventListener("click", () => {
  document.body.appendChild(document.createElement("naivete-rulebook"));
});

// Wallet Connect
const providerOptions = {
  walletconnect: {
    package: window.WalletConnectProvider.default,
    options: { infuraId: "YOUR_INFURA_ID" }
  }
};
const web3Modal = new window.Web3Modal.default({ cacheProvider: false, providerOptions });
const connectBtn = document.getElementById("connect");
connectBtn.addEventListener("click", async () => {
  try {
    const provider = await web3Modal.connect();
    const ethersProvider = new ethers.providers.Web3Provider(provider);
    const signer = ethersProvider.getSigner();
    const address = await signer.getAddress();
    connectBtn.textContent = address.slice(0,6) + "..." + address.slice(-4);
  } catch (err) { console.error(err); }
});
</script>

</body>
</html>
